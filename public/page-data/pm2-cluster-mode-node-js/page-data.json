{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/pm2-cluster-mode-node-js",
    "result": {"data":{"strapiArticles":{"id":"Articles_165","title":"PM2用Cluster Mode，不用修改代码即可提升Node.js项目性能！","description":"cluster mode  就是在单台服务器上，开启多个相同 node.js项目 进程，共同处理网络请求服务，让 node.js项目 处理并发和响应速度达到最高性能。","content":"##### 一、问题简介\n\n `cluster mode`  就是在单台服务器上，开启多个相同 node.js项目 进程，共同处理网络请求服务，让 node.js项目 处理并发和响应速度达到最高性能。\n\n---\n\n##### 二、解决方案\n\n- 法一：命令启动\n\n  ```shell\n  # 启动多个 node.js项目进程（进程数量 = cpu核数量）\n    pm2 start app.js -i 0\n  ```\n\n- 法二：配置文件启动\n\n  ```js\n  // 1、配置文件(processes.json)，设置如下\n  module.exports = {\n      apps: [{\n          script: \"api.js\",\n          instances: \"max\",\n          exec_mode: \"cluster\", // 开启进程间的负载均衡模式\n      }]\n  }\n  ```\n\n  ```shell\n  # 2、用配置文件启动 node.js 项目\n    pm2 start processes.json\n  ```\n\n---\n\n##### 三、其他重要说明\n\n###### 1、`-i` 后面的数字说明\n\n- 0/max ：开启进程数量  ==  cpu核数量\n- -1：进程数量  == cpu核数量 - 1\n\n---\n\n##### 四、参考文档\n\n- [cluster-mode - 官方文档](https://pm2.keymetrics.io/docs/usage/cluster-mode/)\n\n\n","url":"https://learn-anything.cn/pm2-cluster-mode-node-js","author":null,"published_at":"2021-10-26T12:31:38.000Z","tags":[{"name":"PM2","slug":"pm2"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"PM2用Cluster Mode，不用修改代码即可提升Node.js项目性能！","slug":"pm2-cluster-mode-node-js"}},
    "staticQueryHashes": ["63159454"]}