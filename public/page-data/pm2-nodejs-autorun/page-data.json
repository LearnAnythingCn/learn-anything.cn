{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/pm2-nodejs-autorun",
    "result": {"data":{"strapiArticles":{"id":"Articles_161","title":"PM2让Node.js项目在服务器崩溃重启后，能自启动！","description":"当服务器意外崩溃重启后，Node.js要能够自启动，恢复服务。","content":"##### 一、问题简介\n\n当服务器意外崩溃重启后，Node.js要能够自启动，恢复服务。\n\n---\n\n##### 二、解决方案\n\n###### 1、三步完成\n\n```shell\n# 1、创建启动脚本\n  pm2 startup\n\n# 2、上面命令会输出类似如下提示，按照提示执行\n[PM2] You have to run this command as root.Execute the following command:\n    sudo su - c \"env PATH=$PATH:/home/unitech/.nvm/versions/node/v14.3/bin pm2 startup <distribution> -u <user> --hp <home-path>\n      \n# 3、保存正在运行的应用到启动脚本\n  pm2 save\n\n# 现在可以重启服务器，看看 node.js 项目是否能自启动\n```\n\n###### 2、其他\n\n```shell\n# 恢复上一次保存的自启动列表\n  pm2 resurrect\n\n# 取消自启动\n  pm2 unstartup\n\n# 当 node.js 版本更新时，请一定要卸载并新建 自启动脚本 \n  pm2 unstartup\n  pm2 startup\n```\n\n---\n\n##### 三、参考文档\n\n- [startup - 官方文档](https://pm2.keymetrics.io/docs/usage/startup/)\n\n\n","url":"https://learn-anything.cn/pm2-nodejs-autorun","author":null,"published_at":"2021-10-26T12:27:34.000Z","tags":[{"name":"PM2","slug":"pm2"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"PM2让Node.js项目在服务器崩溃重启后，能自启动！","slug":"pm2-nodejs-autorun"}},
    "staticQueryHashes": ["63159454"]}