{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/same-origin-policy",
    "result": {"data":{"strapiArticles":{"id":"Articles_410","title":"同源策略(Same-origin policy)是什么？","description":"一个 URL  有三部分组成：协议、域名(指向主机)、端口，只有这三个完全相同的 URL 才能称之为同源。如下，能和  `http://www.example.com/dir/index.html`  同源的是？","content":"##### 一、同源策略是什么？\n\n一个 URL  有三部分组成：协议、域名(指向主机)、端口，只有这三个完全相同的 URL 才能称之为同源。如下，能和  `http://www.example.com/dir/index.html`  同源的是？\n\n| URL                                      | 结果   | 原因                               |\n| ---------------------------------------- | ------ | ---------------------------------- |\n| `http://www.example.com/dir2/other.html` | 同源   | 只有路径不同                       |\n| `https://www.example.com/secure.html`    | 不同源 | 协议不同                           |\n| `http://www.example.com:81/dir/etc.html` | 不同源 | 端口不同 ( `http://` 默认端口是80) |\n| `http://news.example.com/dir/other.html` | 不同源 | 域名不同                           |\n\n---\n\n##### 二、父域名与子域名\n\n可以通过设置  `document.domain`，让子域名和父域名通过同源策略的检测。\n\n```\n// 1、子域名下面的页面\nhttp://store.company.com/dir/other.html \n\n// 2、脚本代码中修改\ndocument.domain = \"company.com\";\n\n// 3、再去访问父域名下面的页面，可以不被跨域拦截\nfetch(\"http://company.com/dir/page.html\")\n\n```\n\n备注：但是如果端口不是默认80，也会失败，因为 `document.domain = \"company.com\";`  会把端口设置为 null\n\n---\n\n##### 三、跨域访问\n\n跨域访问的解决方案是  CORS，[详情，看这里！](https://learn-anything.cn/cors)\n\n---\n\n##### 四、window.postMessage(不推荐)\n\n跨域访问也可以通过 `window.postMessage`  来实现，不过不太推荐，很容易造成安全问题。[window.postMessage - 详细用法说明！](https://developer.mozilla.org/zh-CN/docs/Web/API/Window/postMessage)\n\n---\n\n##### 五、参考文档\n\n- [Same-origin_policy - MDN](https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy)\n\n","url":"https://learn-anything.cn/same-origin-policy","author":null,"published_at":"2021-11-24T02:48:41.000Z","tags":[{"name":"网络安全","slug":"network-security"},{"name":"http/https","slug":"http-https"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"同源策略(Same-origin policy)是什么？","slug":"same-origin-policy"}},
    "staticQueryHashes": ["63159454"]}