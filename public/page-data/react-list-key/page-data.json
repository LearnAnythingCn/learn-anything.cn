{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/react-list-key",
    "result": {"data":{"strapiArticles":{"id":"Articles_105","title":"React的列表组件必须要有key？","description":"React中列表组件没有key，会有warning：a key should be provided for list items。怎样解除这个警告？key的唯一性和只读性分别是什么意思？","content":"##### 一、列表组件没有key属性会warning？\n\n###### 1、key提高性能\n\n当创建列表组件时，必须给每一个元素设置 key 属性，否则会有警告： a key should be provided for list items。如果元素没有key属性，React很难判断元素应该怎么渲染？如果元素有key值，那么React只对匹配key值的元素，进行更改等渲染操作，这样极高提升了运行性能。\n\n---\n\n##### 二、列表组件使用说明\n\n###### 1、错误用法\n\n```js\nfunction ListItem(props) {\n    const value = props.value;\n    return (\n        // 错误！你不需要在这里指定 key：\n        <li key={value.toString()}>\n            {value}\n        </li>\n    );\n}\n\nfunction NumberList(props) {\n    const numbers = props.numbers;\n    const listItems = numbers.map((number) =>\n        // 错误！元素的 key 应该在这里指定：\n        <ListItem value={number} />\n    );\n    return (\n        <ul>\n            {listItems}\n        </ul>\n    );\n}\n\nconst numbers = [1, 2, 3, 4, 5];\nReactDOM.render(\n    <NumberList numbers={numbers} />,\n    document.getElementById('root')\n);\n```\n\n---\n\n###### 2、正确用法\n\n```js\nfunction ListItem(props) {\n    // 正确！这里不需要指定 key：\n    return <li>{props.value}</li>;\n}\n\nfunction NumberList(props) {\n    const numbers = props.numbers;\n    const listItems = numbers.map((number) =>\n        // 正确！key 应该在数组的上下文中被指定\n        <ListItem key={number.toString()} value={number} />\n    );\n    return (\n        <ul>\n            {listItems}\n        </ul>\n    );\n}\n\nconst numbers = [1, 2, 3, 4, 5];\nReactDOM.render(\n    <NumberList numbers={numbers} />,\n    document.getElementById('root')\n);\n```\n\n---\n\n###### 3、key值无法读取\n\nkey 值会传递给 React ，但不会传递给组件。如果需要使用 key 值，请用其他属性(譬如id)：\n\n```js\n# Post 组件可以读出 props.id，但是不能读出 props.key\nconst content = posts.map((post) =>\n    <Post\n        key={post.id}\n        id={post.id}\n        title={post.title} />\n);\n```\n\n---\n\n###### 4、唯一性\n\nkey 在兄弟节点间必须唯一，但全局不需要唯一。\n\n```js\nfunction Blog(props) {\n    const sidebar = (\n        <ul>\n            {props.posts.map((post) =>\n                <li key={post.id}>\n                    {post.title}\n                </li>\n            )}\n        </ul>\n    );\n    const content = props.posts.map((post) =>\n        <div key={post.id}>\n            <h3>{post.title}</h3>\n            <p>{post.content}</p>\n        </div>\n    );\n    return (\n        <div>\n            {sidebar}\n            <hr />\n            {content}\n        </div>\n    );\n}\n\nconst posts = [\n    { id: 1, title: 'Hello World', content: 'Welcome to learning React!' },\n    { id: 2, title: 'Installation', content: 'You can install React from npm.' }\n];\nReactDOM.render(\n    <Blog posts={posts} />,\n    document.getElementById('root')\n);\n```\n\n\n","url":"https://learn-anything.cn/react-list-key","published_at":"2021-10-08T05:10:08.000Z","tags":[{"name":"React","slug":"react"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"React的列表组件必须要有key？","slug":"react-list-key"}},
    "staticQueryHashes": ["63159454"]}