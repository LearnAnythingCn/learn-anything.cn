{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/gatsby-browser-js",
    "result": {"data":{"strapiArticles":{"id":"Articles_362","title":"gatsby-browser.js有什么作用？","description":"Gatsby 项目中的gatsby-browser.js文件有什么作用？","content":"##### 一、简介\n\nGatsby 在  `gatsby-browser.js`  文件中提供了一些API，可供开发者  监控浏览器的特定事件 和 写一些全局组件。\n\n---\n\n##### 二、API 说明\n\n###### 1、onRouteUpdate\n\n- 功能：监控页面切换的事件\n\n  ```js\n  // gatsby-browser.js\n  const React = require(\"react\")\n  \n  // Logs when the client route changes\n  exports.onRouteUpdate = ({ location, prevLocation }) => {\n    console.log(\"new pathname\", location.pathname)\n    console.log(\"old pathname\", prevLocation ? prevLocation.pathname : null)\n  }\n  ```\n\n---\n\n###### 2、wrapPageElement\n\n- 功能：用于plugin，给所有页面增加一层父容器\n\n  ```js\n  // gatsby-browser.js\n  const React = require(\"react\")\n  const Layout = require(\"./src/components/layout\")\n  \n  // Wraps every page in a component\n  exports.wrapPageElement = ({ element, props }) => {\n    return <Layout {...props}>{element}</Layout>\n  }\n  ```\n\n---\n\n##### 三、重要规则\n\n###### 1、一致性\n\n`gatsby-ssr.js`  和  `gatsby-browser.js`  这两个文件中都提供了这两个API：`wrapPageElement` 和 `wrapRootElement` 。所以要保持两个文件中这两个API的代码一致性。\n\n---\n\n##### 四、参考文档\n\n- [gatsby-browser.js - 官方说明](https://www.gatsbyjs.com/docs/reference/config-files/gatsby-browser/)\n\n\n","url":"https://learn-anything.cn/gatsby-browser-js","author":null,"published_at":"2021-11-13T05:30:31.000Z","tags":[{"name":"Gatsby","slug":"gatsby"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"gatsby-browser.js有什么作用？","slug":"gatsby-browser-js"}},
    "staticQueryHashes": ["63159454"]}