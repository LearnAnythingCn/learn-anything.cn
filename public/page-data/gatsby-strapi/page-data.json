{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/gatsby-strapi",
    "result": {"data":{"strapiArticles":{"id":"Articles_348","title":"用strapi作为数据源来建立博客网站！","description":"用Gatsby自动下载CMS(strapi)数据，建立博客网站。","content":"##### 一、新建 gatsby 项目\n\n新项目取名为`learn-gatsby`。[详细步骤，可以看这里！](https://learn-anything.cn/gatsby-setup)\n\n---\n\n##### 二、编写代码的工具\n\n[Visual Studio Code 是一款万能的代码编辑器，下载并安装！](https://code.visualstudio.com/#alt-downloads)\n\n---\n\n##### 三、下载 strapi 数据，并用页面展示\n\n1. 用 `Visual Studio Code` 打开新项目（选择项目根目录即可打开）；\n\n2. 安装插件\n\n   gatsby-source-strapi  插件，用于下载 strapi 数据 到gatsby 数据层。\n\n   ```shell\n   cd ~/learn-gatsby\n   # 下面两种方式安装：\n   yarn add gatsby-source-strapi\n     # or\n   npm install gatsby-source-strapi\n   ```\n\n\n3. 配置插件（gatsby-source-strapi）到项目learn-gatsby中\n\n   ```js\n   // 用vs code，打开learn-gatsby项目，找到gatsby-config.js文件，增加以下内容\n   {\n     resolve: `gatsby-source-strapi`,\n       options: {\n         \tapiURL: \"http://localhost:1337\",\n           queryLimit: 1000,\n           collectionTypes: [`articles`],\n       },\n   }\n   ```\n\n4. 生成 allStrapiArticles 数据节点\n\n   ```shell\n   # 重新启动项目，生成数据节点：allStrapiArticles\n   gatsby develop\n   ```\n\n   ```shell\n   # 浏览器打开：http://localhost:8000/___graphql\n   # 查看节点是否已经生成：allStrapiArticles\n   ```\n\n5. 展示页面 `src/pages/strapiArticles.js` \n\n   ```js\n   // src/pages/strapiArticles.js\n   import * as React from 'react'\n   import { graphql } from 'gatsby'\n   \n   const StrapiArticles = ({ data }) => {\n   \n       return (\n           <div>{\n               data.allStrapiArticles.edges.map(elem => {\n                   return <div key={elem.node.id}>{elem.node.title}</div>\n               })\n           }\n           </div>\n       )\n   }\n   \n   export const query = graphql`\n       query {\n           allStrapiArticles {\n               edges {\n                 node {\n                   id\n                   title\n                 }\n               }\n             }\n       }\n     `\n   \n   export default StrapiArticles\n   ```\n\n7. 访问页面，看效果\n\n   http://localhost:8000/strapiArticles\n\n---\n\n##### 四、参考文档\n\n- [gatsby-source-strapi - 官方文档](https://www.gatsbyjs.com/plugins/gatsby-source-strapi/)\n\n\n","url":"https://learn-anything.cn/gatsby-strapi","author":null,"published_at":"2021-11-08T10:32:38.000Z","tags":[{"name":"Gatsby","slug":"gatsby"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"用strapi作为数据源来建立博客网站！","slug":"gatsby-strapi"}},
    "staticQueryHashes": ["63159454"]}