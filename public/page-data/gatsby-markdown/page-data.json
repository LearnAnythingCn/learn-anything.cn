{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/gatsby-markdown",
    "result": {"data":{"strapiArticles":{"id":"Articles_346","title":"用 markdown 文档作为数据源来建立博客网站！","description":"用 markdown 文档作为数据源来建立博客网站！","content":"##### 一、新建 gatsby 项目\n\n新项目取名为`learn-gatsby`。[详细步骤，可以看这里！](https://learn-anything.cn/gatsby-setup)\n\n---\n\n##### 二、编写代码的工具\n\n[Visual Studio Code 是一款万能的代码编辑器，下载并安装！](https://code.visualstudio.com/#alt-downloads)\n\n---\n\n##### 三、markdown 文档导入项目\n\n1. 用 `Visual Studio Code` 打开新项目（选择项目根目录即可打开）；\n\n2. src 文件夹下，新建名为 `md`  的文件夹，并把所有markdown 文档复制到  `md`  文件夹下，这里使用 `second-blog.md`  \n\n   ```md\n   # My Second Blog\n   This is my second blog post! Isn't it *great*?\n   Some of my **favorite** things are:\n   * Petting dogs\n   * Singing\n   * Eating potato-based foods\n   ```\n\n3. 安装插件\n\n   ```shell\n   npm install gatsby-plugin-mdx @mdx-js/mdx @mdx-js/react\n   # or\n   yarn add gatsby-plugin-mdx @mdx-js/mdx @mdx-js/react\n   ```\n\n4. 配置插件\n\n   ```js\n   // gatsby-config.js\n   plugins: [\n       {\n         resolve: \"gatsby-source-filesystem\",\n         options: {\n           name: \"md\",\n           path: \"./src/md/\",\n         },\n         __key: \"md\",\n       },\n       {\n         resolve: \"gatsby-plugin-mdx\",\n         options: {\n           extensions: [`.mdx`, `.md`],\n         },\n       },\n     ],\n   ```\n\n5. 生成 allMdx 节点\n\n   ```shell\n   # 重新启动项目，生成allMdx\n   gatsby develop\n   ```\n\n   ```shell\n   # 浏览器打开：http://localhost:8000/___graphql\n   # 选择 allMdx -> nodes -> id、slug、rawBody，点击运行，即可看到数据已经生成。\n   ```\n\n6. 新建页面\n\n   根据 mdx 的路由规则，新建页面 `src/pages/second-blog.js` \n\n   ```js\n   // src/pages/second-blog.js\n   import * as React from 'react'\n   import { graphql } from 'gatsby'\n   import { MDXRenderer } from 'gatsby-plugin-mdx'\n   \n   const SecondBlogPost = ({ data }) => {\n   \n       return (\n   \n           <MDXRenderer>\n               {data.mdx.body}\n           </MDXRenderer>\n       )\n   }\n   \n   export const query = graphql`\n       query($id: String) {\n         mdx(id: {eq: $id}) {\n           body\n         }\n       }\n     `\n   \n   export default SecondBlogPost\n   ```\n\n7. 访问页面，看效果\n\n   http://localhost:8000/second-blog\n\n---\n\n##### 四、参考文档\n\n- [gatsby-plugin-mdx - 官方文档](https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/)","url":"https://learn-anything.cn/gatsby-markdown","author":null,"published_at":"2021-11-08T07:45:25.000Z","tags":[{"name":"Gatsby","slug":"gatsby"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"用 markdown 文档作为数据源来建立博客网站！","slug":"gatsby-markdown"}},
    "staticQueryHashes": ["63159454"]}