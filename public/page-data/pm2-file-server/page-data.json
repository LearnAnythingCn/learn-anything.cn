{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/pm2-file-server",
    "result": {"data":{"strapiArticles":{"id":"Articles_173","title":"PM2变为文件共享服务器！","description":"使用pm2开启文件共享服务器，轻松提供文件下载服务，还可以设置用户名和密码进行访问。","content":"##### 一、问题简介\n\n用 pm2 可以起送开启一个文件服务器，共享文件。首先需要安装 pm2。pm2安装，[看这里！](https://learn-anything.cn/pm2-command)\n\n---\n\n##### 二、解决方案1\n\n假设  `~/test`  目录下有一个  `test.txt`  文件\n\n```shell\n# 开启文件服务器，默认端口是8080，可以根据需要修改\npm2 serve ~/test 8080\n\n# 浏览器访问\nhttp://localhost:8080/test.text\n```\n\n---\n\n##### 三、解决方案2\n\n假设  `~/test`  目录下有一个  `test.txt`  文件\n\n```shell\n# 1、切换到共享目录\ncd ~/test\n\n# 2、新建配置文件 : ecosystem.config.js\npm2 init simple\n\n# 3、修改配置文件为如下内容\nmodule.exports = {\n    apps: [{\n        name: \"serve\",\n        script: \"serve\",\n        env: {\n            PM2_SERVE_PATH: '.',\n            PM2_SERVE_PORT: 8080\n        }\n    }]\n}\n\n# 4、启动服务\npm2 start ecosystem.config.js \n  #或者\npm2 start\n\n# 5、浏览器访问\nhttp://localhost:8080/test.text\n```\n\n---\n\n##### 四、解决方案3\n\n假设共享目录有index.html 文件，文件内容如下。访问共享目录时，默认打开 index.html\n\n```html\n<!DOCTYPE html>\n<html>\n\n<head>\n    <meta charset=\"utf-8\">\n    <title>pm2 serve</title>\n</head>\n\n<body>\n\n    <h1>Welcome</h1>\n    <p>这是 pm2 服务器！</p>\n\n</body>\n\n</html>\n```\n\n- 法一：命令启动\n\n  ```shell\n  # 1、切换到共享目录\n  cd ~/test\n  \n  # 2、启动服务\n  pm2 serve --spa\n  \n  # 3、访问\n  http://localhost:8080\n  ```\n\n- 法二：配置文件启动\n\n  ```shell\n  # 1、切换到共享目录\n    cd ~/test\n  \n  # 2、新建配置文件 : ecosystem.config.js\n    pm2 init simple\n  \n  # 3、修改配置文件为如下内容\n  module.exports = {\n      apps: [{\n          name: \"serve\",\n          script: \"serve\",\n          env: {\n              PM2_SERVE_PATH: '.',\n              PM2_SERVE_PORT: 8080,\n              PM2_SERVE_SPA: 'true'\n          }\n      }]\n  }\n  \n  # 4、启动服务\n    pm2 start ecosystem.config.js \n    #或者\n    pm2 start\n  \n  # 5、浏览器访问\n    http://localhost:8080\n  ```\n\n---\n\n##### 五、解决方案4\n\n使用用户名和密码来访问服务。\n\n- 法一：命令启动\n\n  ```shell\n  # 1、切换到共享目录\n    cd ~/test\n    \n  # 2、启动服务，用户名：username，密码：password\n    pm2 serve --basic-auth-username username --basic-auth-password password\n  \n  # 3、浏览器访问（需要输入上面用户名和密码）\n    http://localhost:8080\n  ```\n\n- 法二：配置文件启动\n\n  ```shell\n  # 1、切换到共享目录\n    cd ~/test\n  \n  # 2、新建配置文件 : ecosystem.config.js\n    pm2 init simple\n  \n  # 3、修改配置文件为如下内容\n  module.exports = {\n      apps: [{\n          name: \"serve\",\n          script: \"serve\",\n          env: {\n              PM2_SERVE_PATH: '.',\n              PM2_SERVE_PORT: 8080,\n              PM2_SERVE_BASIC_AUTH: 'true',\n              PM2_SERVE_BASIC_AUTH_USERNAME: 'username',\n              PM2_SERVE_BASIC_AUTH_PASSWORD: 'password'\n          }\n      }]\n  }\n  \n  # 4、启动服务\n    pm2 start ecosystem.config.js \n    #或者\n    pm2 start\n  \n  # 5、浏览器访问（需要输入上面用户名和密码）\n    http://localhost:8080\n  ```\n\n---\n\n##### 六、参考文档\n\n- [expose - 官方文档](https://pm2.keymetrics.io/docs/usage/expose/)\n\n\n","url":"https://learn-anything.cn/pm2-file-server","published_at":"2021-10-27T10:34:21.000Z","tags":[{"name":"PM2","slug":"pm2"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"PM2变为文件共享服务器！","slug":"pm2-file-server"}},
    "staticQueryHashes": ["63159454"]}