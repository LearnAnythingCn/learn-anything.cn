{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/rest-api-strapi",
    "result": {"data":{"strapiArticles":{"id":"Articles_333","title":"通过RestAPI获取strapi的数据！","description":"通过RestAPI查询strapi数据并进行过滤、分页、排序。还可以获取已发布文章和草稿。","content":"##### 一、访问 strapi 数据\n\n###### 1、获取内容\n\n```shell\n# 获取 restaurants 所有内容\nGET http://localhost:1337/restaurants\n\n# 获取 restaurants 中 id = 1 的内容\nGET http://localhost:1337/restaurants/1\n\n# 获取 restaurants 中内容的数量\nGET http://localhost:1337/restaurants/count\n```\n\n###### 2、过滤\n\n```shell\n# 获取 firstName 等于 John 的内容\nGET /users?firstName=John\nor\nGET /users?firstName_eq=John\n\n# 获取 price ≥ 3 的餐馆\nGET /restaurants?price_gte=3\n\n# 获取 id 为 3 或 6 或 8 的餐馆\nGET /restaurants?id_in=3&id_in=6&id_in=8\n```\n\n| Filter            | Description                     |\n| ----------------- | ------------------------------- |\n| No suffix or `eq` | Equal                           |\n| `ne`              | Not equal                       |\n| `lt`              | Less than                       |\n| `gt`              | Greater than                    |\n| `lte`             | Less than or equal to           |\n| `gte`             | Greater than or equal to        |\n| `in`              | Included in an array            |\n| `nin`             | Not included in an array        |\n| `contains`        | Contains                        |\n| `ncontains`       | Doesn't contain                 |\n| `containss`       | Contains, case sensitive        |\n| `ncontainss`      | Doesn't contain, case sensitive |\n| `null`            | Is null or not null             |\n\n###### 3、where\n\n```shell\nGET /restaurants?_where[price_gte]=3\nGET /restaurants?_where[0][price_gte]=3&[0][price_lte]=7\n```\n\n###### 4、and\n\n```js\nconst query = qs.stringify({\n  _where: [{ stars: 1 }, { pricing_lte: 20 }],\n});\n\nawait request(`/restaurants?${query}`);\n// GET /restaurants?_where[0][stars]=1&_where[1][pricing_lte]=20\n```\n\n###### 5、or\n\n```js\n# 用法一\nconst query = qs.stringify({ _where: { _or: [{ stars: 1 }, { pricing_gt: 30 }] } });\n\nawait request(`/restaurant?${query}`);\n// GET /restaurants?_where[_or][0][stars]=1&_where[_or][1][pricing_gt]=30\n\n# 用法二\nGET /restaurants?stars=1&stars=2\n\n# 用法三\nconst query = qs.stringify({ _where: { stars: [1, 2] } });\n\nawait request(`/restaurant?${query}`);\n// GET /restaurants?_where[stars][0]=1&_where[stars][1]=2\n\n\n// https://api.learn-anything.cn/Articles?title_contains=&description_contains=&content_contains=\n```\n\n###### 6、and + or\n\n```js\n# 用法一\nconst query = qs.stringify({\n  _where: {\n    _or: [\n      [{ stars: 2 }, { pricing_lt: 80 }], // implicit AND\n      [{ stars: 1 }, { pricing_gte: 50 }], // implicit AND\n    ],\n  },\n});\n\nawait request(`/restaurants?${query}`);\n// GET /restaurants?_where[_or][0][0][stars]=2&_where[_or][0][1][pricing_lt]=80&_where[_or][1][0][stars]=1&_where[_or][1][1][pricing_gte]=50\n```\n\n```js\n# 用法二\nconst query = qs.stringify({\n  _where: {\n    _or: [\n      [{ stars: 2 }, { pricing_lt: 80 }], // implicit AND\n      [{ stars: 1 }, { 'categories.name': 'French' }], // implicit AND\n    ],\n  },\n});\n\nawait request(`/restaurants?${query}`);\n// GET /restaurants?_where[_or][0][0][stars]=2&_where[_or][0][1][pricing_lt]=80&_where[_or][1][0][stars]=1&_where[_or][1][1][categories.name]=French\n```\n\n###### 7、sort\n\n```shell\nGET /users?_sort=email:ASC to sort by ascending order\n\nGET /users?_sort=email:DESC to sort by descending order\n\nGET /users?_sort=email:ASC,dateField:DESC\nGET /users?_sort=email:DESC,username:ASC\n```\n\n###### 8、limit\n\n- The default limit is `100`。\n\n- You can require the full data set by passing a limit equal to `-1`\n\n```shell\nGET /users?_limit=30\n```\n\n###### 9、Start - 分页\n\n```shell\nGET /users?_start=10&_limit=10\n```\n\n###### 10、获取已发布或草稿文章\n\n```shell\n# 获取文章 = 已发布\nGET /articles\nor\nGET /articles?_publicationState=live\n\n# 获取文章 = 已发布 + 草稿\nGET /articles?_publicationState=preview\n```\n\n---\n\n##### 二、参考文档\n\n- [strapi - 官网](https://strapi.io/)\n\n- [strapi - 开发文档](https://strapi.io/documentation/developer-docs/latest/getting-started/introduction.html)\n\n- [strapi - Rest API - 官方文档 V3](https://docs-v3.strapi.io/developer-docs/latest/developer-resources/content-api/content-api.html)\n\n","url":"https://learn-anything.cn/rest-api-strapi","published_at":"2021-11-02T11:44:08.000Z","tags":[{"name":"strapi","slug":"strapi"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"通过RestAPI获取strapi的数据！","slug":"rest-api-strapi"}},
    "staticQueryHashes": ["63159454"]}