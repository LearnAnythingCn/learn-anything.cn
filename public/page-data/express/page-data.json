{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/express",
    "result": {"data":{"strapiArticles":{"id":"Articles_411","title":"学习express，从这里开始！","description":"Express 是一个简洁而灵活的 node.js Web应用框架，可以快速地搭建一个功能完整的网站。","content":"##### 一、express 是什么？\n\nExpress 是一个简洁而灵活的 node.js Web应用框架，可以快速地搭建一个功能完整的网站。\n\n---\n\n##### 二、安装express并创建项目\n\n通过  `express-generator`  创建带有基本配置的 express  项目，包括 路由(routes)、package.json、view(hbs模板)等，可以直接编写业务代码了。\n\n```shell\n# 1、安装工具\nnpm install -g express-generator\n\n# 2、创建项目：learn-express\nexpress --view=hbs ~/learn-express && cd ~/learn-express\n\n# 3、初始化项目\nnpm install\n\n# 4、启动\nnpm start\n\n# 5、访问：\nhttp://localhost:3000/\n```\n\n---\n\n##### 三、新增页面\n\n使用上面新建项目 learn-express，因为 routes、views 已经配置完毕，直接新建一个页面并用 http 的 get 方法获取，步骤如下：\n\n- 采用 vs code 打开上面项目。[vs code 下载](https://code.visualstudio.com/)\n\n- 新建 routes/test.js 文件\n\n  ```js\n  var express = require('express');\n  var router = express.Router();\n  \n  /* GET test page. */\n  router.get('/', function(req, res, next) {\n    res.render('test', { title:'测试页面' });\n  });\n  \n  module.exports = router;\n  ```\n\n- 新建 views/test.hbs 文件\n\n  ```html\n  <h1>{{title}}</h1>\n  ```\n\n- 修改 app.js ，增加路由，找到对应地方增加下面内容\n\n  ```\n  var testRouter = require('./routes/test');\n  \n  app.use('/test', testRouter);\n  ```\n\n- 重启服务，即可通过  http://localhost:3000/test  访问新增的页面。\n\n---\n\n##### 四、POST 提交页面\n\n使用 form 表单 提交数据，后端处理表单提交的数据。\n\n###### 1、新建 form 表单的页面\n\n- 新建  routes/form.js  文件\n\n  ```js\n  // routes/form.js\n  var express = require('express');\n  var router = express.Router();\n\n  /* GET form page. */\n  router.get('/', function(req, res, next) {\n    res.render('form', { title:'from post 提交页面' });\n  });\n\n  module.exports = router;\n  ```\n\n- 新建  form.hbs 文件\n\n  ```html\n  <h1>{{title}}</h1>\n  \n  <form action=\"http://127.0.0.1:3000/process_post\" method=\"POST\">\n      First Name: <input type=\"text\" name=\"first_name\"> <br>\n  \n      Last Name: <input type=\"text\" name=\"last_name\">\n      <input type=\"submit\" value=\"Submit\">\n  </form>\n  ```\n  \n- 修改 app.js ，增加路由\n\n  ```js\n  var formRouter = require('./routes/form');\n  \n  app.use('/form', formRouter);\n  ```\n\n---\n\n###### 2、新建 post 处理页面\n\n- 新建 routes/process_post.js  文件\n\n  ```js\n  var express = require('express');\n  var router = express.Router();\n  \n  /* Post process page. */\n  router.post('/', function (req, res, next) {\n  \n      // 输出 JSON 格式\n      var response = {\n          \"first_name\": req.body.first_name,\n          \"last_name\": req.body.last_name\n      };\n      console.log(response);\n      res.end(JSON.stringify(response));\n  \n  });\n  \n  module.exports = router;\n  ```\n\n- 修改 app.js  增加路由\n\n  ```js\n  var postProcRouter = require('./routes/process_post');\n  \n  app.use('/process_post', postProcRouter);\n  ```\n\n---\n\n###### 3、访问\n\n- 重启服务器\n- 先打开 http://127.0.0.1:3000/form 填写数据，点击提交；\n- 页面会跳转到   http://127.0.0.1:3000/process_post \n\n---\n\n##### 五、静态文件\n\n访问静态文件的方法：\n\n- 修改 app.js，增加下面 路由\n\n  ```js\n  app.use('/public', express.static('public'));\n  ```\n\n- 把 test.jpg 拷贝到 public/images  目录下\n\n- 重启项目，即可访问图片： http://localhost:3000/public/images/test.jpg \n\n---\n\n##### 六、下载官方 Examples\n\n```shell\ngit clone git://github.com/expressjs/express.git --depth 1\ncd express\nnpm install\n\n# 启动你想看的 Examples\nnode examples/content-negotiation\n```\n\n---\n\n##### 七、参考文档\n\n- [express - github](https://github.com/expressjs/express)\n- [express-generator - npm](https://www.npmjs.com/package/express-generator)\n- [nodejs-express-framework](https://www.runoob.com/nodejs/nodejs-express-framework.html)\n- [expressjs - 官网，用手机访问！](https://expressjs.com/)\n\n\n","url":"https://learn-anything.cn/express","published_at":"2021-11-24T11:16:29.000Z","tags":[{"name":"Nodejs","slug":"nodejs"},{"name":"JavaScript","slug":"java-script"},{"name":"http/https","slug":"http-https"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"学习express，从这里开始！","slug":"express"}},
    "staticQueryHashes": ["63159454"]}