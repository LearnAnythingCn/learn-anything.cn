{
    "componentChunkName": "component---src-templates-article-article-detail-gen-js",
    "path": "/http-https-cerbot",
    "result": {"data":{"strapiArticles":{"id":"Articles_150","title":"让你的网站从http免费升级为https！","description":"使用公益组织  Let's Encrypt  提供的工具  certbot 免费生成 ca  证书，让你的网站升级为https，ca证书永不过期！","content":"##### 一、问题\n\n让网站（`http://www.example.com` ）支持 https 协议，能正常访问（ `https://www.example.com`）这个链接。\n\n---\n\n##### 二、解决方案\n\nhttps  其实就是通过  ca  证书，对服务器和域名进行实名认证。这里使用公益组织  `Let's Encrypt`   提供的工具  `certbot` 免费生成 ca  证书。\n\n###### 1、服务器环境：\n\n- Ubuntu：服务器操作系统；\n- nginx：用于部署运行网站的服务器；\n- `www.example.com` ：经过备案且能正常解析到服务器；\n\n---\n\n###### 2、安装 certbot\n\n`certbot` 是 公益组织  `Let's Encrypt`   提供的 `ca证书` 生成工具。\n\n```shell\nsudo apt-get update;\nsudo apt-get install software-properties-common;\nsudo add-apt-repository ppa:certbot/certbot;\nsudo apt-get update;\nUbuntu14用这个命令：sudo apt-get install python-certbot-nginx;\nUbuntu20用这个命令：sudo apt-get install python3-certbot-nginx\n```\n\n---\n\n###### 3、生成  ca证书\n\n```shell\n# 1、执行生成命令\nsudo certbot --nginx\n\n# 2、出现如下信息\nWhich names would you like to activate HTTPS for?\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n1: www.example.com\n\n# 3、输入 1 ，回车\n\n# 4、出现如下信息\nPlease choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n1: No redirect - Make no further changes to the webserver configuration.\n2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for\nnew sites, or if you're confident your site works on HTTPS. You can undo this\nchange by editing your web server's configuration.\n\n# 5、输入 2 ，回车\n\n# 6、出现下面语句，表示生成成功\nIMPORTANT NOTES:\n - Congratulations! Your certificate and chain have been saved at:\n   /etc/letsencrypt/live/www.example.com/fullchain.pem\n   Your key file has been saved at:\n   /etc/letsencrypt/live/www.example.com/privkey.pem\n   Your cert will expire on 2019-02-25. To obtain a new or tweaked\n   version of this certificate in the future, simply run certbot again\n   with the \"certonly\" option. To non-interactively renew *all* of\n   your certificates, run \"certbot renew\"\n - If you like Certbot, please consider supporting our work by:\n\n   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate\n   Donating to EFF:                    https://eff.org/donate-le\n```\n\n---\n\n###### 4、访问https\n\n现在即可使用 `https://www.example.com`  来访问网站了。\n\n---\n\n###### 5、证书过期问题\n\nca证书的使用期限是90天，可以通过下面命令自动续签更新，永不过期。\n\n```shell\nsudo certbot renew --dry-run\n```\n\n---\n\n##### 三、参考文档\n\n-  [Let's Encrypt - 官方网站](https://letsencrypt.org/) \n- [certbot  - 官方网站](https://certbot.eff.org/)\n- [SSL Server Test - 深度检测 https 服务存在的问题](https://www.ssllabs.com/ssltest/index.htmls)\n\n\n","url":"https://learn-anything.cn/http-https-cerbot","author":null,"published_at":"2021-10-22T09:09:46.000Z","tags":[{"name":"Nginx","slug":"nginx"},{"name":"http/https","slug":"http-https"}]},"site":{"siteMetadata":{"title":"收集优质资源","author":"@learn-anything.cn","description":"追求极简语言，说明事物因果！","email":"lh@learn-anything.cn"}}},"pageContext":{"title":"让你的网站从http免费升级为https！","slug":"http-https-cerbot"}},
    "staticQueryHashes": ["63159454"]}