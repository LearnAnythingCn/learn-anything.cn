{"version":3,"file":"component---src-pages-search-book-js-0710d8a2ac6248206163.js","mappings":"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","sources":["webpack://learn-anything/./src/templates/book/searchOutside.js","webpack://learn-anything/./src/templates/book/searchResultList.js","webpack://learn-anything/./src/pages/search-book.js","webpack://learn-anything/./src/templates/book/bookTagRowItem.js","webpack://learn-anything/./src/templates/book/bookTagRow.js","webpack://learn-anything/./src/images/jiumodiary.png","webpack://learn-anything/./src/images/lorefree.jpg","webpack://learn-anything/./src/images/z_lib.png"],"sourcesContent":["import React from \"react\"\nimport z_libImg from \"../../images/z_lib.png\"\nimport lorefreeImg from \"../../images/lorefree.jpg\"\nimport jiumodiaryImg from \"../../images/jiumodiary.png\"\nimport shadowsocksImg from \"../../images/shadowsocks.png\"\nimport TagPage from \"../tag/tagPage\"\n\nconst SearchOutside = ({ search }) => {\n\n    let results = [];\n\n    let z_lib={};\n    z_lib.title = \"Z-Library\";\n    z_lib.desc = \"免费下载中文电子书，格式包括pdf、epub等。免费账户每天限量5本。\";\n    z_lib.imgLocal = z_libImg;\n    z_lib.url = \"https://zh.ng1lib.org/s/\" + search;\n    results.push(z_lib);\n\n    let lorefree = {};\n    lorefree.title = \"lorefree\";\n    lorefree.desc = \"首个去中心化免费中文电子书共享社区，7万多本电子书可供下载。\";\n    lorefree.imgLocal = lorefreeImg;\n    lorefree.url = \"https://ebook2.lorefree.com/site/index?s=\" + search;\n    results.push(lorefree);\n\n    let jiumodiary = {};\n    jiumodiary.title = \"鸠摩\";\n    jiumodiary.desc = \"中文电子书搜索引擎，提供中文电子图书搜索和免费下载。\";\n    jiumodiary.imgLocal = jiumodiaryImg;\n    jiumodiary.url = \"https://www.jiumodiary.com/\";\n    results.push(jiumodiary);\n\n    let shadowsocks = {};\n    shadowsocks.title = \"shadowsocks\";\n    shadowsocks.desc = \"真是一把【好梯子】，无缝体验真实的互联网世界！\";\n    shadowsocks.imgLocal = shadowsocksImg;\n    shadowsocks.url = \"https://portal.shadowsocks.nz/aff.php?aff=20800\";\n    results.push(shadowsocks);\n\n    return (\n        <TagPage\n            data={results}\n            tagName={search ? (\"本站无「\" + search + \"」相关数据，推荐下面站点！\") : (\"无数据，推荐下面站点！\")}\n            style={{ textAlign: 'left' }}\n        />\n\n    )\n\n}\n\nexport default SearchOutside","import React from \"react\";\nimport BookTagRow from \"./bookTagRow\";\nimport SearchOutside from \"./searchOutside\";\n\n\nconst SearchResultList = ({ query, results }) => {\n\n  console.log(\"SearchResultList:\", results);\n  return (\n    <>\n      {\n        results.length > 0 ? (\n          <BookTagRow\n            tagsData={results}\n            name={\"有关 「 \" + query + \" 」 内容：\"}\n          />\n\n        ) : (\n          <div>\n            <SearchOutside search={query} />\n          </div>\n\n        )\n      }\n    </>\n  )\n}\n\nexport default SearchResultList\n","import React, { useState, useEffect } from \"react\";\nimport { graphql } from \"gatsby\"\nimport Seo from \"../components/seo\"\nimport logo from \"../images/learn-anything.webp\"\n\nimport 'antd/dist/antd.compact.css';// 引入官方提供的「紧凑样式」入口文件\n\nimport { Input, Layout, Row, BackTop } from 'antd';\nimport FooterTemplate from \"../templates/footer\";\nimport AdsImg from \"../templates/adImg\";\nimport { Content } from \"antd/lib/layout/layout\";\nimport { QuestionCircleOutlined } from '@ant-design/icons';\nimport Loading from \"../templates/loading\";\nimport SearchResultList from \"../templates/book/searchResultList\";\n\nconst { Search } = Input;\nconst axios = require('axios');\n\nconst SearchBook = ({ location, data }) => {\n\n  // 此类链接特殊处理，中文字符：?input=弄懂\n  const urlParse = require('url');\n\n  var parsedUrl = urlParse.parse(location.search, true);\n  var text = parsedUrl.query.input;\n  if (text === undefined || text === null) {\n    text = \"\";\n  }\n\n  const [query, setQuery] = useState(text)\n  const [loading, setLoading] = useState(true)\n  const [results, setResults] = useState([])\n\n  useEffect(\n    () => {\n      if (query) {\n        // 采用 strapi 的REST API 方式进行查询 - 2021年12月30日\n\n        const qs = require('qs');\n        const queryData = qs.stringify({\n          _where: {\n            _or: [\n              { title_contains: query },\n              { description_contains: query },\n              { content_contains: query }\n            ]\n          },\n          _limit: 30\n        }\n        );\n\n        axios.get(`https://api.learn-anything.cn/books?${queryData}`)\n          // {params:queryData})\n          .then(function (response) {\n            setResults(response.data);\n            setLoading(false);\n          })\n          .catch(function (error) {\n            console.log(error);\n            setResults([]);\n          })\n          .then(function () {\n            // 总是会执行\n          });\n      } else {\n        // setResults([]);\n        setLoading(false);\n      }\n\n    },\n    [query]\n  )\n\n  return (\n    <Layout>\n      <Content style={{ maxWidth: 960, left: 0, right: 0, width: '100%', margin: 'auto' }}>\n        <Seo title={\"有关 「 \" + query + \" 」 内容\"} />\n\n        <div style={{ margin: \"10px 10px 0 10px\", backgroundColor: 'white', border: 'solid 1px #ddd', borderRadius: 10 }}>\n          <div style={{ height: '40px', borderBottom: 'solid 1px #f0f0f0' }}>\n            <a href=\"/\">\n              <img src={logo} alt=\"logo\" style={{ height: 22, width: 142, margin: '9px 0 0 10px' }} />\n            </a>\n            <a href=\"/about\" target=\"_blank\" rel=\"noreferrer\">\n              <QuestionCircleOutlined style={{ float: 'right', lineHeight: '40px', fontSize: 15, color: '#0089e1', marginRight: 15 }} />\n            </a>\n          </div>\n\n          <Row style={{ padding: 10 }}>\n            {\n              <Search\n                placeholder=\"输入查询内容...\"\n                allowClear\n                enterButton\n                size=\"large\"\n                style={{ left: 0, right: 0, width: 300, marginTop: 84, borderRadius: 20, margin: 'auto' }}\n                onSearch={(text) => {\n                  if (text.trim() !== \"\") {\n                    if (text !== query) {\n                      setLoading(true);\n                      setQuery(text)\n                    }\n                  }\n                  return;\n                }}\n              />\n            }\n          </Row>\n        </div>\n\n        <div style={{ minHeight: 'calc(100vh - 192px)' }}>\n          {\n            loading ? <Loading /> : <SearchResultList query={query} results={results} />\n          }\n          <div style={{ margin: \"10px 10px 0 10px\" }}>\n            <AdsImg />\n          </div>\n        </div>\n\n        <BackTop visibilityHeight={50} />\n        <FooterTemplate data={data.site.siteMetadata} />\n      </Content>\n    </Layout>\n  )\n}\n\nexport default SearchBook\n\n\n\nexport const searchBookSite = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n        author\n        description\n        email\n      }\n    }\n  }`","import React from \"react\"\nimport { Card, Col } from 'antd';\nimport { GatsbyImage } from \"gatsby-plugin-image\";\nimport logo from \"../../images/learn-anything-icon.png\"\n\nconst BookTagRowItem = ({ colNum, tagsData, allShow }) => {\n\n    var itemShow = 1;\n    return tagsData.map(element => {\n        let url = \"/book/\" + element.slug;\n        if (element.url && element.url.indexOf(\"https://learn-anything.cn\") === -1) {\n            url = element.url;\n        }\n\n\n        var imgUrl = {};\n        imgUrl.type = \"StaticImage\";\n        imgUrl.url = logo;\n        if (element.image) {\n            if (element.image.localFile) {\n                imgUrl.type = \"GatsbyImage\";\n                imgUrl.url = element.image.localFile.childImageSharp.gatsbyImageData;\n            } else if (element.image.url) {\n                imgUrl.url = \"https://api.learn-anything.cn\" + element.image.url;\n            }\n        } else if (element.imgUrl) {\n            imgUrl.url = \"https://api.learn-anything.cn\" + element.imgUrl;\n        } else if (element.imgLocal) {\n            imgUrl.url = element.imgLocal;\n        }\n\n\n\n        if (!allShow) {\n            if (colNum === 3 && itemShow > 8) {\n                return null;\n            } else if (colNum === 4 && itemShow > 6) {\n                return null;\n            } else if (colNum === 6 && itemShow > 4) {\n                return null;\n            } else if (colNum === 8 && itemShow > 3) {\n                return null;\n            } else if (colNum === 12 && itemShow > 2) {\n                return null;\n            } else if (colNum === 24 && itemShow > 2) {\n                return null;\n            }\n            itemShow++;\n        }\n\n        return (\n            <Col span={colNum} key={element.slug + \"a\"} >\n                <a href={url} target=\"_blank\" rel=\"noreferrer\" style={{ color: \"#888\" }}>\n                    <Card\n                        hoverable\n                        // onClick={() => { window.open(url, \"_blank\"); }}\n                        style={{ width: 100, height: 140, overflow: 'hidden', borderRadius: 15 }}\n                        cover={\n                            // <GatsbyImage\n                            //     imgStyle={{ border: 'solid 1px #ddd', borderRadius: 15 }}\n                            //     image={element.image.localFile.childImageSharp.gatsbyImageData}\n                            //     alt={element.slug} />\n                            imgUrl.type === \"GatsbyImage\" ?\n                                (\n                                    // <div style={{ padding: '5px 0 0 4px' }}>\n                                    // <GatsbyImage image={imgUrl.url} alt={itemTitle} imgStyle={{ width: 15, height: 15, border: 'solid 1px #ddd', borderRadius: 15 }} />\n                                    // </div>\n                                    <GatsbyImage\n                                        imgStyle={{ border: 'solid 1px #ddd', borderRadius: 15 }}\n                                        // image={element.image.localFile.childImageSharp.gatsbyImageData}\n                                        image={imgUrl.url}\n                                        alt={element.slug} />\n                                ) :\n                                (\n                                    <img src={imgUrl.url} alt={element.slug} style={{ border: 'solid 1px #ddd', borderRadius: 15 }} />\n                                )\n                        }\n                    >\n                    </Card>\n                    <div style={{\n                        width: 100, lineHeight: '30px', textAlign: 'center', whiteSpace: 'nowrap',\n                        overflow: 'hidden', textOverflow: 'ellipsis', verticalAlign: 'middle'\n                    }}>{element.title}\n                    </div>\n                </a>\n            </Col >\n        )\n    })\n}\n\nexport default BookTagRowItem;","import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { Row, Pagination } from 'antd';\nimport { useMediaQuery } from 'react-responsive'\nimport BookTagRowItem from \"./bookTagRowItem\";\n\nconst Mobile240 = ({ children }) => {\n    const isMobile = useMediaQuery({ maxWidth: 239 })\n    return isMobile ? children : null\n}\n\nconst Mobile350 = ({ children }) => {\n    const isMobile = useMediaQuery({ minWidth: 240, maxWidth: 349 })\n    return isMobile ? children : null\n}\n\nconst Mobile = ({ children }) => {\n    const isMobile = useMediaQuery({ minWidth: 350, maxWidth: 540 })\n    return isMobile ? children : null\n}\n\nconst Default660 = ({ children }) => {\n    const isNotMobile = useMediaQuery({ minWidth: 541, maxWidth: 659 })\n    return isNotMobile ? children : null\n}\n\nconst Default900 = ({ children }) => {\n    const isNotMobile = useMediaQuery({ minWidth: 660, maxWidth: 899 })\n    return isNotMobile ? children : null\n}\n\nconst Default = ({ children }) => {\n    const isNotMobile = useMediaQuery({ minWidth: 900 })\n    return isNotMobile ? children : null\n}\n\n\nconst BookTagRow = ({ name, tagsData, more, allShow, pagination  }) => {\n\n    let paginationShow = false;\n    if(pagination && pagination.numPages > 1)\n        paginationShow = true;\n\n    return (\n        <div style={{ margin: \"10px 10px 0 10px\", backgroundColor: 'white', border: 'solid 1px #ddd', borderRadius: 10 }}>\n            <div style={{ height: '40px', borderBottom: 'solid 1px #f0f0f0' }}>\n                {/* <h4 style={{ lineHeight: '40px', color: '#108ee9', paddingLeft: 15, fontSize: '12px', fontWeight: 500, letterSpacing: 2 }}>{name}</h4> */}\n                <div style={{ float: 'left', lineHeight: '40px', color: '#108ee9', paddingLeft: 15, fontSize: '12px', fontWeight: 500, letterSpacing: 2 }}>{name}</div>\n\n                {\n                    more ?\n                        <a href={more} target=\"_blank\" rel=\"noreferrer\">\n                            <div style={{ float: 'right', lineHeight: '40px', fontSize: 12, color: '#0089e1', marginRight: 15 }} >更多...</div>\n                        </a>\n                        :\n                        <></>\n                }\n            </div>\n\n            <div style={{ margin:'15px 15px 5px 15px' }}>\n                <Row gutter={[8, 12]}>\n                    <Mobile240 >\n                        <BookTagRowItem colNum={24} tagsData={tagsData}  allShow={allShow} />\n                    </Mobile240>\n\n                    <Mobile350 >\n                        <BookTagRowItem colNum={12} tagsData={tagsData} allShow={allShow}  />\n                    </Mobile350>\n\n                    <Mobile >\n                        <BookTagRowItem colNum={8} tagsData={tagsData}  allShow={allShow} />\n                    </Mobile>\n\n                    <Default660 >\n                        <BookTagRowItem colNum={6} tagsData={tagsData}  allShow={allShow} />\n                    </Default660>\n\n                    <Default900 >\n                        <BookTagRowItem colNum={4} tagsData={tagsData}  allShow={allShow} />\n                    </Default900>\n\n                    <Default >\n                        <BookTagRowItem colNum={3} tagsData={tagsData}  allShow={allShow} />\n                    </Default>\n                </Row>\n\n                {\n                    paginationShow ?\n                        <Pagination defaultCurrent={1} current={pagination.currentPage} pageSize={pagination.pageSize} total={pagination.total}\n                            showSizeChanger = {false}    \n                            style={{ textAlign: 'center', paddingTop:20 }}\n                            onChange={\n                                (e) => {\n                                    let page = \"/\";\n                                    if (pagination.pathname.charAt(pagination.pathname.length - 1) === \"/\") {\n                                        pagination.pathname = pagination.pathname.slice(0, pagination.pathname.length - 1);\n                                    }\n                                    // 第一页跳转到第一页\n                                    if (pagination.currentPage === 1 && e === 1) {\n                                        page = pagination.pathname;\n                                        return null;\n                                    } else if (pagination.currentPage === 1 && e !== 1) {\n                                        // 第一页跳转到其他页\n                                        page = pagination.pathname + \"/\" + e;\n                                    } else if (pagination.currentPage !== 1 && e === 1) {\n                                        // 其他页跳转到第一页\n                                        page = pagination.pathname.slice(0, pagination.pathname.lastIndexOf(\"/\"));\n                                    } else {\n                                        // 其他页跳转其他页\n                                        page = pagination.pathname.slice(0, pagination.pathname.lastIndexOf(\"/\") + 1) + e;\n                                    }\n                                    return navigate(page)\n                                }\n                            }\n                        />\n                        :\n                        null\n                }\n\n            </div>\n        </div>\n    );\n}\n\nexport default BookTagRow;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5BAMAAAB+Np62AAAAElBMVEV/XTp/Xjt/XTt/XTqAXjv//v0NFde9AAAABHRSTlPa6OTE+5COPgAAAFpJREFUOMtjMGLACZgMGERccAMBBhY8sgwjQTY0NGRUdlR2CMhCRV1pIRtKlKwLdtkQEIVd1hUsHoouC9cMBSFkyLrCJDFlEdK4875ryGAtkYaALN46BX99BAAud5XN0AlQjwAAAABJRU5ErkJggg==\"","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wgARCAAgACADAREAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAACAkKBwX/xAAbAQABBQEBAAAAAAAAAAAAAAAIAgQGBwkDAf/aAAwDAQACEAMQAAAAfanpmDaRL2hZPNfnoejZ66nsp7TTkwohauyUw9GZbmaClNVSw4ppIu7KPA+rhBdYHy4+RD2c0qH3/8QAMxAAAQMCBAQDBAsAAAAAAAAAAgEDBAUGAAcJEQgSIUEUIyQxM0JiNjlSU1RydpGSsbP/2gAIAQEAAT8ArVZh23R5E6fJZhxIgK48+8aA22Kd1VeiJi8s7pcy2pdWakw7JtCKCuyrjr6IwSNJ8TLDijyov3j/ACInRUbcRccRWunbWVtbftfJCG7c1Xqctpqo3hW+dwH1Q0Hdptdic6KXL7toPgAhxDPnhgS+0hRVxrCViZbumLndUKfLlwJ8G1ZUmLKjOk09HdDYgMDFUUTEkRUJFRUXFw8bebPFnZNPazGvyv3Y1SHCYitzHQFsUDohEDYiJuderhIpr3JcWb9LKZv+KZ/0HFPH0LS/IO/7Y1nfqrc9/wBHzcZNbDaKqqbj4t3p/HGbt6WnfuT+Tcq17DptjrT6zUadO8LJOU5VnQWnmj7jjic6l5qogkpbdsQE9A1+RP6xqoZY13OTToznti2KY/Wa/V7TmsQYDHV6W7yKqNgncy22RMafWltnRxUeKplKtCqW9Gps91mfULgiPU2PDPuKo4CGZ/IALjTB0t3uHixwHNylW5ct02xWpD1szgdKY1AiutR08sXAFAPnZ+zuPZcDsKbY/8QAJhEAAgEDAwIHAQAAAAAAAAAAAQIAAwQRBQYSIUITIiMxQWFxof/aAAgBAgEBPwA4BLx6yKhYtgfcv95UabCja+Y594hLYaIGB4Y6TfN5VF14PIhZYL66/sQtwAMOe2b25G+blKtSnXo24t6fDBOf5FJCjJiniOk1/bV1qN+xp9BND2+1rSCXADEfM7cgT//EACoRAAIABAUCBgMBAAAAAAAAAAECAAMFEQQGEiExBwgTFEJRgaEiMkGx/9oACAEDAQE/AJUlphEtBe8YCis89ZKIZs0+hbn7F/qMr9tdTxmDap5ibwVRSVljn5I4h1s7BYplvMh47aspUuVRBUFkjxm5a0Zl0ilz7ncK3+GJ4u5v7mKZvPU2tHbvqOVEUbHfeKRhMfgKhW5dTxpnDQhXVYBb69gNh/Im/uwPvFPZPMhmO0dOetNDyjlSWMc2qb6UHJ3jqz1hmV7HPMo8xpcmao1rwSRe1z8wPxNmPMf/2Q==\"","export default \"data:image/png;base64,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\""],"names":["search","results","z_lib","imgLocal","z_libImg","url","push","lorefree","lorefreeImg","jiumodiary","jiumodiaryImg","shadowsocks","shadowsocksImg","data","tagName","style","textAlign","query","console","log","length","tagsData","name","Search","Input","axios","require","location","text","parse","input","useState","setQuery","loading","setLoading","setResults","useEffect","queryData","stringify","_where","_or","title_contains","description_contains","content_contains","_limit","get","then","response","catch","error","maxWidth","left","right","width","margin","title","backgroundColor","border","borderRadius","height","borderBottom","href","src","logo","alt","target","rel","QuestionCircleOutlined","float","lineHeight","fontSize","color","marginRight","padding","placeholder","allowClear","enterButton","size","marginTop","onSearch","trim","minHeight","visibilityHeight","site","siteMetadata","colNum","allShow","itemShow","map","element","slug","indexOf","imgUrl","image","localFile","type","childImageSharp","gatsbyImageData","span","key","hoverable","overflow","cover","G","imgStyle","whiteSpace","textOverflow","verticalAlign","Mobile240","children","useMediaQuery","Mobile350","minWidth","Mobile","Default660","Default900","Default","more","pagination","paginationShow","numPages","paddingLeft","fontWeight","letterSpacing","gutter","defaultCurrent","current","currentPage","pageSize","total","showSizeChanger","paddingTop","onChange","e","page","pathname","charAt","slice","lastIndexOf","navigate"],"sourceRoot":""}