{"version":3,"file":"component---src-templates-book-book-detail-gen-js-cbc02e9d6c376652ca4e.js","mappings":"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","sources":["webpack://learn-anything/./src/templates/book/bookDetailComputer.js","webpack://learn-anything/./src/templates/book/bookDetailMobile.js","webpack://learn-anything/./src/templates/book/bookDetailGen.js"],"sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\";\nimport { Layout, BackTop, Divider, PageHeader, Input } from 'antd';\nimport HtmlReactParser from 'html-react-parser';\nimport AdsImg from \"../adImg\";\nimport FooterTemplate from \"../footer\";\nimport logo from \"../../images/learn-anything.webp\"\n\nconst { Search } = Input;\nconst { Content, Sider } = Layout;\n\n\nconst BookDetailComputer = ({ toc, md, book, tags, siteMetadata }) => {\n\n  var title = book.title, author = book.author;\n\n  const moment = require('moment')\n  moment.locale('zh-cn');\n  var time = moment(book.published_at).format('YYYY-MM-DD HH:mm:ss');\n\n  var urlShow = \"\";\n  // if (node.strapiArticles && node.strapiArticles.url) {\n  //   if (node.strapiArticles.url.indexOf(\"learn-anything.cn\") === -1) {\n  //     urlShow = node.strapiArticles.url;\n  //   }\n  // }\n\n  return (\n    <Layout style={{ maxWidth: 960, margin: 'auto' }}>\n      <Sider\n        style={{\n          overflow: 'auto',\n          height: 'calc(100vh - 20px)',\n          position: 'fixed',\n          backgroundColor: 'white',\n          border: 'solid 1px #ddd',\n          borderRadius: 10,\n          margin: '10px 0 10px 10px'\n        }}\n      >\n        <div style={{\n          borderBottom: 'solid 1px #ddd', borderRadius: '10px 10px 0 0',\n          height: 50, margin: '0 5px 0 5px', backgroundColor: 'white', position: 'fixed'\n        }}>\n          <Link to=\"/\">\n            <img src={logo} alt=\"logo\" style={{ height: 26, width: 180, margin: '12px 0 0 3px' }} />\n          </Link>\n        </div>\n\n        <div style={{ marginTop: 70 }} >{HtmlReactParser(toc)}</div>\n      </Sider>\n\n      <Layout style={{ marginLeft: 210 }}>\n        <div style={{\n          height: 50,\n          margin: '10px 10px 0 10px',\n          backgroundColor: 'white',\n          border: 'solid 1px #ddd',\n          borderRadius: 10,\n        }} >\n          <Link to=\"/\">\n            <PageHeader\n              className=\"site-page-header\"\n              onBack={() => (window.open(\"/\"))}\n              title=\"返回首页\"\n              style={{ float: 'left', color: '#999' }}\n            />\n          </Link>\n\n          <Search\n            placeholder=\"输入查询内容...\"\n            allowClear\n            enterButton\n            size=\"large\"\n            style={{ width: 200, marginRight: 10, marginTop: 9, float: 'right' }}\n            onSearch={(text) => {\n              if (text.trim() !== \"\") {\n                window.open(\"/search?input=\" + text)\n              }\n              return;\n            }}\n          />\n        </div>\n\n        <div style={{ minHeight: 'calc(100vh - 148px)' }}>\n\n          <div className=\"articleHeader\" style={{\n            backgroundColor: 'white',\n            margin: '10px 10px 0px 10px',\n            borderTop: 'solid 1px #ddd',\n            borderRight: 'solid 1px #ddd',\n            borderLeft: 'solid 1px #ddd',\n            borderRadius: '10px 10px 0 0',\n            paddingTop: 30,\n            paddingLeft: 24,\n            paddingRight: 24\n          }}>\n            <h1 style={{ textAlign: 'center', marginBottom: 0, lineHeight: '35px', fontSize: 28, color: '#dc5922', letterSpacing: 1.5 }}>{title}</h1>\n            <div style={{ color: '#777', paddingTop: 30 }}> {author} <Divider type=\"vertical\" /> {time} {tags}</div>\n            <div><Divider style={{ marginTop: 10, marginBottom: 0, height: '2px' }} /></div>\n          </div>\n\n          <Content style={{ margin: '0px 10px 0 10px', overflow: 'initial' }}>\n            <div className=\"site-layout-background\" style={{\n              padding: 24,\n              borderRight: 'solid 1px #ddd',\n              borderBottom: 'solid 1px #ddd',\n              borderLeft: 'solid 1px #ddd',\n              borderRadius: '0 0 10px 10px',\n              textAlign: 'left',\n              backgroundColor: 'white'\n            }}>\n              <article className=\"markdown-body\" >\n                {HtmlReactParser(md)}\n              </article>\n\n              {\n                urlShow !== \"\" ?\n                  (<div style={{\n                    height: 30,\n                    margin: '10px 0 0 0',\n                    backgroundColor: 'white',\n                    border: 'solid 1px #ddd',\n                    borderRadius: 10,\n                    width: '100%',\n                    textAlign: 'center'\n                  }} >\n                    <a href={urlShow} target='_blank' rel=\"noreferrer\" style={{ lineHeight: '30px' }}>{'-----    '}  {title} - 官方网站  {'    -----'}</a>\n                  </div>)\n                  : (<></>)\n              }\n            </div>\n\n\n          </Content>\n\n          <div style={{ margin: \"10px 10px 0 10px\" }}>\n            <AdsImg />\n          </div>\n        </div>\n\n        <FooterTemplate data={siteMetadata} />\n      </Layout>\n\n      <BackTop visibilityHeight={50} />\n    </Layout>\n  );\n}\n\nexport default BookDetailComputer\n","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport HtmlReactParser from 'html-react-parser';\nimport { Layout, Menu, BackTop, Divider, PageHeader } from 'antd';\nimport { SettingOutlined } from '@ant-design/icons';\nimport FooterTemplate from \"../footer\";\nimport AdsImg from \"../adImg\";\n\nconst { SubMenu } = Menu;\nconst { Content } = Layout;\n\nconst BookDetailMobile = ({ toc, md, book, tags, siteMetadata }) => {\n\n  var title = book.title, author = book.author;\n\n  const moment = require('moment')\n  moment.locale('zh-cn');\n  var time = moment(book.published_at).format('YYYY-MM-DD HH:mm:ss');\n\n  var parser = new DOMParser();\n  var doc = parser.parseFromString(toc, \"text/xml\");\n\n  // 分类创建对象\n  var keyId = 1, menus = [];\n  // 左侧菜单数据解析\n  menus.push(\n    <Menu.Item key={(keyId++).toString()} style={{ height: 40 }}>\n      <Link to=\"/\">首页</Link>\n    </Menu.Item>\n  );\n\n  const uslug = require('uslug')\n\n  var x = doc.getElementsByTagName('li');\n  for (var i = 0; i < x.length; i++) {\n    var name = x[i].childNodes[0].textContent;\n    menus.push(\n      <Menu.Item key={(keyId++).toString()} style={{ height: 40 }} >\n        <a href={\"#\" + uslug(name)} >{name}</a>\n      </Menu.Item>\n    );\n  }\n\n  var urlShow = \"\";\n  // if (node.strapiArticles && node.strapiArticles.url) {\n  //   if (node.strapiArticles.url.indexOf(\"learn-anything.cn\") === -1) {\n  //     urlShow = node.strapiArticles.url;\n  //   }\n  // }\n\n  return (\n    <Layout>\n\n      <div style={{\n        margin: '10px 10px 0 10px',\n        backgroundColor: 'white',\n        border: 'solid 1px #ddd',\n        borderRadius: 10,\n      }} >\n        <Link to=\"/\">\n          <PageHeader\n            className=\"site-page-header\"\n            onBack={() => (window.open(\"/\"))}\n            title=\"返回首页\"\n            style={{ float: 'left', color: '#999' }}\n          />\n        </Link>\n\n        <div style={{ paddingRight: 20, float: 'right' }}>\n          <Menu style={{ height: 48 }} theme=\"light\" mode=\"horizontal\" defaultSelectedKeys={'1'}>\n            <SubMenu key=\"submenu\" icon={<SettingOutlined />} title=\"目录\">\n              {menus}\n            </SubMenu>\n          </Menu>\n        </div>\n      </div>\n\n      <div style={{ minHeight: 'calc(100vh - 152px)' }}>\n        <div className=\"articleHeader\" style={{\n          backgroundColor: 'white',\n          // margin: '68px 10px 0 10px',\n          margin: '10px 10px 0 10px',\n          paddingTop: 30,\n          paddingLeft: 24,\n          paddingRight: 24,\n          borderTop: 'solid 1px #ddd',\n          borderRight: 'solid 1px #ddd',\n          borderLeft: 'solid 1px #ddd',\n          borderRadius: '10px 10px 0 0',\n        }}>\n          <h1 style={{ textAlign: 'center', lineHeight: '30px', fontSize: 22, letterSpacing: 1, marginBottom: 0, color: '#dc5922' }}>{title}</h1>\n          <div style={{ color: '#777', paddingTop: 30 }}> {author} <Divider type=\"vertical\" /> {time} {tags}</div>\n          <div><Divider style={{ marginTop: 10, marginBottom: 0, height: '2px' }} /></div>\n        </div>\n\n        <Content className=\"site-layout\" >\n          <div className=\"site-layout-background\" style={{\n            padding: 15,\n            margin: '0 10px 0 10px',\n            textAlign: 'left',\n            borderRight: 'solid 1px #ddd',\n            borderBottom: 'solid 1px #ddd',\n            borderLeft: 'solid 1px #ddd',\n            borderRadius: '0 0 10px 10px',\n            backgroundColor: 'white'\n          }}>\n\n            <article className=\"markdown-body\" >\n              {HtmlReactParser(md)}\n            </article>\n\n            {\n              urlShow !== \"\" ?\n                (<div style={{\n                  height: 30,\n                  margin: '10px 0 0 0',\n                  backgroundColor: 'white',\n                  border: 'solid 1px #ddd',\n                  borderRadius: 10,\n                  width: '100%',\n                  textAlign: 'center'\n                }} >\n                  <a href={urlShow} target='_blank' rel=\"noreferrer\" style={{ lineHeight: '30px' }}>{'-----    '}  {title} - 官方网站  {'    -----'}</a>\n                </div>)\n                : (<></>)\n            }\n\n          </div>\n\n\n        </Content>\n\n        <div style={{ margin: \"10px 10px 0 10px\" }}>\n          <AdsImg />\n        </div>\n      </div>\n\n      <FooterTemplate data={siteMetadata} />\n\n      <BackTop visibilityHeight={50} />\n    </Layout>\n  );\n}\n\nexport default BookDetailMobile\n","import React from \"react\"\nimport { graphql, Link } from \"gatsby\"\n\n// import uslugify from 'uslug'\nimport markdownItAnchor from 'markdown-it-anchor'\nimport markdownItTocDoneRight from 'markdown-it-toc-done-right'\nimport markdownItFootnote from 'markdown-it-footnote'\nimport markdownItMultimdTable from 'markdown-it-multimd-table'\n\n// 引入ant-design\n// import 'antd/dist/antd.css'; // 引入官方提供的「暗色样式」入口文件\n// import 'antd/dist/antd.min.css';\nimport 'antd/dist/antd.compact.css';// 引入官方提供的「紧凑样式」入口文件\n\nimport \"highlight.js/styles/rainbow.css\"\nimport \"../../components/article.css\"\n\nimport { useMediaQuery } from 'react-responsive'\nimport Seo from \"../../components/seo\"\nimport { Divider } from \"antd\"\nimport BookDetailComputer from \"./bookDetailComputer\"\nimport BookDetailMobile from \"./bookDetailMobile\"\n\nconst Mobile = ({ children }) => {\n  const isMobile = useMediaQuery({ maxWidth: 767 })\n  return isMobile ? children : null\n}\nconst Default = ({ children }) => {\n  const isNotMobile = useMediaQuery({ minWidth: 768 })\n  return isNotMobile ? children : null\n}\n\n\nconst BookDetailTemplate = ({ data }) => {\n\n  var book = data.strapiBooks;\n  var title = book.title, desc = book.description, content = book.content;\n\n  var tags = [], keyId = 1;\n  book.book_tags.forEach(\n    element => {\n      // tags.push(<a href={element.slug} >{element.name}</a>);\n      tags.push(<Divider key={(keyId++).toString()} type=\"vertical\" />);\n      tags.push(<Link key={(keyId++).toString()} to={\"/tag/\" + element.slug}>{element.name}</Link>);\n    }\n  )\n\n  var hljs = require('highlight.js'); // https://highlightjs.org/\n\n  const uslug = require('uslug')\n  const uslugify = s => uslug(s)\n\n  var tocStr = \"\";\n  var md = require(\"markdown-it\")({\n    html: true,\n    xhtmlOut: true,\n    typographer: true,\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externally.\n    // If result starts with <pre... internal wrapper is skipped.\n    highlight: function (str, lang) {\n      if (lang && hljs.getLanguage(lang)) {\n        try {\n          return '<pre class=\"hljs\"><code>' +\n            hljs.highlight(str, { language: lang, ignoreIllegals: true }).value +\n            '</code></pre>';\n        } catch (__) { }\n      }\n\n      return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n    }\n  })\n    .use(markdownItFootnote)\n    .use(markdownItMultimdTable, {\n      multiline: false,\n      rowspan: false,\n      headerless: false,\n    })\n    .use(markdownItAnchor, {\n      permalink: false,\n      permalinkBefore: false,//这些有需要就去看文档吧\n      slugify: uslugify\n    })\n    .use(markdownItTocDoneRight, {\n      containerClass: 'toc',//生成的容器的类名，这样最后返回来的字符串是 <nav class=\"toc\"><nav/>\n      containerId: 'toc',//生成的容器的ID，这样最后返回来的字符串是 <nav id=\"toc\"><nav/>\n      listType: 'ul',//导航列表使用ul还是ol\n      listClass: 'listClass',//li标签的样式名\n      linkClass: 'linkClass',//a标签的样式名\n      slugify: uslugify,\n      callback: function (html, ast) {\n        //把目录单独列出来\n        tocStr = html;\n      }\n    });\n\n  var mdStr = md.render(content);\n\n  return (\n\n    <div style={{ backgroundColor: '#f0f2f5' }}>\n      <Seo title={title} description={desc} />\n\n      {/* 手机客户端页面 */}\n      <Mobile>\n        <BookDetailMobile toc={tocStr} md={mdStr} book={book} tags={tags} siteMetadata={data.site.siteMetadata} />\n        {/* <ArticleMobile toc={tocStr} md={mdStr} node={data} author={author} tags={tags} /> */}\n      </Mobile>\n\n      {/* 非手机客户端页面 */}\n      <Default>\n        <BookDetailComputer toc={tocStr} md={mdStr} book={book} tags={tags} siteMetadata={data.site.siteMetadata} />\n      </Default>\n\n    </div>\n\n  );\n}\n\nexport default BookDetailTemplate\n\n\nexport const queryBook = graphql`\n  query queryBookPage($slug:String){\n    strapiBooks(\n      slug: {  eq: $slug }\n    ){\n        id\n        slug\n        title\n        author\n        description\n        content\n        rank\n        published_at\n        book_tags {\n          slug\n          name\n        }\n      }\n\n      site {\n        siteMetadata {\n          title\n          author\n          description\n          email\n        }\n      }\n  }\n`\n\n\n\n// export const queryBook = graphql`\n//   query allStrapiBookTags($slug: String!) {\n//     strapiArticles(\n//       slug: {  eq: $slug }\n//     ){\n//       id\n//       title\n//       description\n//       content\n//       url\n//       author {\n//         name\n//       }\n//       published_at\n//       tags {\n//         name\n//         slug\n//       }\n//     }\n\n//     site {\n//       siteMetadata {\n//         title\n//         author\n//         description\n//         email\n//       }\n//     }\n//   }\n// `"],"names":["Search","Input","Content","Layout","Sider","toc","md","book","tags","siteMetadata","title","author","moment","require","locale","time","published_at","format","style","maxWidth","margin","overflow","height","position","backgroundColor","border","borderRadius","borderBottom","Link","to","src","logo","alt","width","marginTop","HtmlReactParser","marginLeft","className","onBack","window","open","float","color","placeholder","allowClear","enterButton","size","marginRight","onSearch","text","trim","minHeight","borderTop","borderRight","borderLeft","paddingTop","paddingLeft","paddingRight","textAlign","marginBottom","lineHeight","fontSize","letterSpacing","type","padding","data","visibilityHeight","SubMenu","Menu","doc","DOMParser","parseFromString","keyId","menus","push","key","toString","uslug","x","getElementsByTagName","i","length","name","childNodes","textContent","href","theme","mode","defaultSelectedKeys","icon","SettingOutlined","Mobile","children","useMediaQuery","Default","minWidth","strapiBooks","desc","description","content","book_tags","forEach","element","slug","hljs","uslugify","s","tocStr","html","xhtmlOut","typographer","highlight","str","lang","getLanguage","language","ignoreIllegals","value","__","utils","escapeHtml","use","markdownItFootnote","markdownItMultimdTable","multiline","rowspan","headerless","markdownItAnchor","permalink","permalinkBefore","slugify","markdownItTocDoneRight","containerClass","containerId","listType","listClass","linkClass","callback","ast","mdStr","render","site"],"sourceRoot":""}